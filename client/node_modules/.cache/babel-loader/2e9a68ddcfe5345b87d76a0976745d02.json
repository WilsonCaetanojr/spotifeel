{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\src\\\\components\\\\Home\\\\playlist\\\\Modal.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { openAddContext } from '../../../context/modalAddMusicContext';\nimport DragAndDrop from './DragDropInput';\nimport { playlistsContext } from '../../../context/playlistContext';\nimport { insertIntoPlaylistMusics, getPlaylistByIdUser, getTitleVideo, insertIntoPlaylistMusicOtherSite } from '../../../services/PlaylistService';\nimport usePlaylist from '../../../hooks/usePlaylist';\nexport default function ModalAdd(props) {\n  const [openModalAdd, setOpenModalAdd] = useContext(openAddContext);\n  const [playlists, setPlaylists] = useContext(playlistsContext);\n  const {\n    addingMusic,\n    addingMusicLink\n  } = usePlaylist();\n\n  const handleDrop = async files => {\n    addingMusic();\n    setOpenModalAdd(false);\n  };\n\n  const handleSave = async link => {\n    addingMusicLink;\n    if (!link) return;\n    const infoMusica = await getTitleVideo(link);\n    await insertIntoPlaylistMusicOtherSite(props.playlist, {\n      url: link,\n      title: infoMusica.items[0].snippet.title\n    });\n    const infoPlaylists = await getPlaylistByIdUser(props.user._id);\n    setPlaylists(infoPlaylists);\n    setOpenModalAdd(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: openModalAdd,\n    onClose: () => setOpenModalAdd(false),\n    PaperProps: {\n      style: {\n        backgroundColor: '#121212',\n        boxShadow: 'none',\n        borderRadius: 20,\n        width: \"90%\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DragAndDrop, {\n    handleDrop: handleDrop,\n    handleSave: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/guilh/Desktop/ai-emotions2.0/client/src/components/Home/playlist/Modal.js"],"names":["React","useState","useEffect","useContext","Dialog","DialogContent","openAddContext","DragAndDrop","playlistsContext","insertIntoPlaylistMusics","getPlaylistByIdUser","getTitleVideo","insertIntoPlaylistMusicOtherSite","usePlaylist","ModalAdd","props","openModalAdd","setOpenModalAdd","playlists","setPlaylists","addingMusic","addingMusicLink","handleDrop","files","handleSave","link","infoMusica","playlist","url","title","items","snippet","infoPlaylists","user","_id","style","backgroundColor","boxShadow","borderRadius","width"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAASC,cAAT,QAA+B,uCAA/B;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,SAASC,wBAAT,EAAmCC,mBAAnC,EAAwDC,aAAxD,EAAuEC,gCAAvE,QAA+G,mCAA/G;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACpC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCd,UAAU,CAACG,cAAD,CAAlD;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4BhB,UAAU,CAACK,gBAAD,CAA5C;AACA,QAAM;AAAEY,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAmCR,WAAW,EAApD;;AAEA,QAAMS,UAAU,GAAG,MAAOC,KAAP,IAAiB;AAChCH,IAAAA,WAAW;AACXH,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAHD;;AAKA,QAAMO,UAAU,GAAG,MAAOC,IAAP,IAAe;AAC9BJ,IAAAA,eAAe;AACf,QAAG,CAACI,IAAJ,EAAU;AACV,UAAMC,UAAU,GAAG,MAAMf,aAAa,CAACc,IAAD,CAAtC;AACA,UAAMb,gCAAgC,CAACG,KAAK,CAACY,QAAP,EAAiB;AACnDC,MAAAA,GAAG,EAAEH,IAD8C;AAEnDI,MAAAA,KAAK,EAAEH,UAAU,CAACI,KAAX,CAAiB,CAAjB,EAAoBC,OAApB,CAA4BF;AAFgB,KAAjB,CAAtC;AAIA,UAAMG,aAAa,GAAG,MAAMtB,mBAAmB,CAACK,KAAK,CAACkB,IAAN,CAAWC,GAAZ,CAA/C;AAEAf,IAAAA,YAAY,CAACa,aAAD,CAAZ;AACAf,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAZD;;AAcA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAED,YADV;AAEI,IAAA,OAAO,EAAE,MAAIC,eAAe,CAAC,KAAD,CAFhC;AAGI,IAAA,UAAU,EAAE;AACRkB,MAAAA,KAAK,EAAE;AACHC,QAAAA,eAAe,EAAE,SADd;AAEHC,QAAAA,SAAS,EAAE,MAFR;AAGHC,QAAAA,YAAY,EAAE,EAHX;AAIHC,QAAAA,KAAK,EAAE;AAJJ;AADC,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAYI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,UAAU,EAAEjB,UAAzB;AAAqC,IAAA,UAAU,EAAEE,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZJ,CADJ,CADJ;AAoBH","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { openAddContext } from '../../../context/modalAddMusicContext';\r\nimport DragAndDrop from './DragDropInput'\r\nimport { playlistsContext } from '../../../context/playlistContext'\r\nimport { insertIntoPlaylistMusics, getPlaylistByIdUser, getTitleVideo, insertIntoPlaylistMusicOtherSite } from '../../../services/PlaylistService'\r\nimport usePlaylist from '../../../hooks/usePlaylist';\r\n\r\nexport default function ModalAdd(props) {\r\n    const [openModalAdd, setOpenModalAdd] = useContext(openAddContext)\r\n    const [playlists, setPlaylists] = useContext(playlistsContext)\r\n    const { addingMusic, addingMusicLink } = usePlaylist()\r\n    \r\n    const handleDrop = async (files) => {\r\n        addingMusic()\r\n        setOpenModalAdd(false)\r\n    }\r\n\r\n    const handleSave = async (link) =>{\r\n        addingMusicLink\r\n        if(!link) return\r\n        const infoMusica = await getTitleVideo(link)\r\n        await insertIntoPlaylistMusicOtherSite(props.playlist, {\r\n            url: link,\r\n            title: infoMusica.items[0].snippet.title\r\n        })\r\n        const infoPlaylists = await getPlaylistByIdUser(props.user._id)\r\n        \r\n        setPlaylists(infoPlaylists)\r\n        setOpenModalAdd(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog \r\n                open={openModalAdd} \r\n                onClose={()=>setOpenModalAdd(false)} \r\n                PaperProps={{\r\n                    style: {\r\n                        backgroundColor: '#121212',\r\n                        boxShadow: 'none',\r\n                        borderRadius: 20,\r\n                        width: \"90%\"\r\n                    },\r\n                }} \r\n            >\r\n                <DialogContent>\r\n                    <DragAndDrop handleDrop={handleDrop} handleSave={handleSave}></DragAndDrop>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}