{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\src\\\\components\\\\Login\\\\index.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Content, LoginArea, ContainerLogin, Logo, LoginContainer } from './style';\nimport { Text, Button, Dflex, Input } from '../../stylesGlobaly/globalComponents';\nimport logoSvg from \"./img/logo.svg\";\nimport loadingSvg from '../../stylesGlobaly/loading.json';\nimport Lottie from 'react-lottie';\nimport { loginContext } from '../../context/loginContext';\nimport { validatePasswordAndLogin } from \"../../services/LoginService\";\nimport ModalSubs from \"./Modal\";\nimport { openSubsContext } from '../../context/modalSubsContext';\n\nconst Login = () => {\n  const [loginSession, setLoginSession] = useContext(loginContext);\n  const [disabledLoginButton, setDisabledLoginButton] = useState(false);\n  const [loginInput, setLoginInput] = useState(\"\");\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [retornoLoading, setRetornoLoading] = useState(\"\");\n\n  function prepeareToLogin() {\n    setDisabledLoginButton(true);\n    setLoading(true);\n    setRetornoLoading(\"\");\n    setLoginSession({});\n  }\n\n  async function LoginHandler() {\n    prepeareToLogin();\n    const infoLogin = await validatePasswordAndLogin(loginInput, passwordInput);\n\n    if (infoLogin.resp) {\n      localStorage.sessionIaEmotions = JSON.stringify(infoLogin.resp);\n      setLoginSession(JSON.parse(localStorage.sessionIaEmotions));\n      window.location.href = \"/home\";\n    } else {\n      setRetornoLoading(infoLogin.msg);\n    }\n\n    setDisabledLoginButton(false);\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    setLoginInput('');\n    setLoginInput('');\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ContainerLogin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dflex, {\n    jc: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    src: logoSvg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Text, {\n    size: \"28px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Spotifeel\")), /*#__PURE__*/React.createElement(Text, {\n    wrap: \"wrap\",\n    elip: \"inherit\",\n    size: \"16px\",\n    pb: \"12px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"A IA que identifica sua musica pela sua emo\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(LoginArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    mb: \"12px\",\n    py: \"10px\",\n    type: \"text\",\n    placeholder: \"Login\",\n    onChange: e => setLoginInput(e.target.value),\n    value: loginInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    mb: \"12px\",\n    py: \"10px\",\n    type: \"password\",\n    placeholder: \"Senha\",\n    onChange: e => setPasswordInput(e.target.value),\n    value: passwordInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Dflex, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    w: \"40%\",\n    size: \"18px\",\n    mr: \"12px\",\n    onClick: LoginHandler,\n    disabled: disabledLoginButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n    w: \"60%\",\n    onClick: () => setOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, \"Click Aqui para se inscrever\"))), loading ? /*#__PURE__*/React.createElement(Lottie, {\n    options: {\n      loop: true,\n      autoplay: true,\n      animationData: loadingSvg,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\"\n      }\n    },\n    height: 40,\n    width: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 34\n    }\n  }) : /*#__PURE__*/React.createElement(Text, {\n    size: \"16px\",\n    pb: \"12px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 30\n    }\n  }, retornoLoading))), loginSession.username && /*#__PURE__*/React.createElement(LoginContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    wrap: \"wrap\",\n    elip: \"inherit\",\n    size: \"16px\",\n    px: \"4px\",\n    color: \"#aaaaaa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Voc\\xEA est\\xE1 logado como:  \"), /*#__PURE__*/React.createElement(Text, {\n    wrap: \"wrap\",\n    elip: \"inherit\",\n    size: \"16px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, loginSession.username)), /*#__PURE__*/React.createElement(openSubsContext.Provider, {\n    value: [open, setOpen],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalSubs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/guilh/Desktop/ai-emotions2.0/client/src/components/Login/index.js"],"names":["React","useState","useEffect","useContext","Content","LoginArea","ContainerLogin","Logo","LoginContainer","Text","Button","Dflex","Input","loadingSvg","Lottie","loginContext","validatePasswordAndLogin","ModalSubs","openSubsContext","Login","loginSession","setLoginSession","disabledLoginButton","setDisabledLoginButton","loginInput","setLoginInput","passwordInput","setPasswordInput","open","setOpen","loading","setLoading","retornoLoading","setRetornoLoading","prepeareToLogin","LoginHandler","infoLogin","resp","localStorage","sessionIaEmotions","JSON","stringify","parse","window","location","href","msg","logoSvg","e","target","value","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Content, LoginArea, ContainerLogin, Logo, LoginContainer } from './style'\nimport { Text, Button, Dflex, Input } from '../../stylesGlobaly/globalComponents'\nimport logoSvg from './img/logo.svg';\nimport loadingSvg from '../../stylesGlobaly/loading.json';\nimport Lottie from 'react-lottie';\nimport { loginContext } from '../../context/loginContext'\nimport { validatePasswordAndLogin } from \"../../services/LoginService\"\nimport ModalSubs from \"./Modal\"\nimport { openSubsContext } from '../../context/modalSubsContext';\n\nconst Login = ()=>{\n    const [loginSession, setLoginSession] = useContext(loginContext)\n    const [disabledLoginButton, setDisabledLoginButton] = useState(false)\n    const [loginInput, setLoginInput] = useState(\"\") \n    const [passwordInput, setPasswordInput] = useState(\"\")\n    const [open, setOpen] = useState(false) \n    const [loading, setLoading] = useState(false) \n    const [retornoLoading, setRetornoLoading] = useState(\"\")\n    \n    function prepeareToLogin(){\n        setDisabledLoginButton(true)\n        setLoading(true)\n        setRetornoLoading(\"\")\n        setLoginSession({})\n    }\n\n    async function LoginHandler(){\n        prepeareToLogin()\n        const infoLogin = await validatePasswordAndLogin(loginInput, passwordInput)\n        if(infoLogin.resp){\n            localStorage.sessionIaEmotions = JSON.stringify(infoLogin.resp)\n            setLoginSession(JSON.parse(localStorage.sessionIaEmotions))\n            window.location.href = \"/home\"\n        } else {\n            setRetornoLoading(infoLogin.msg)\n        }\n        setDisabledLoginButton(false)\n        setLoading(false)\n    }\n\n    useEffect(()=>{\n        setLoginInput('')\n        setLoginInput('')\n    }, [])\n\n    return (\n        <div>\n            <Content>\n                <ContainerLogin>\n                    <Dflex jc=\"center\">\n                        <Logo src={logoSvg} />\n                        <Text size=\"28px\">Spotifeel</Text>\n                    </Dflex>\n                    <Text wrap=\"wrap\" elip=\"inherit\" size=\"16px\" pb=\"12px\">A IA que identifica sua musica pela sua emoção</Text>\n                    <LoginArea>\n                        <Input mb=\"12px\" py=\"10px\" type=\"text\" placeholder=\"Login\" onChange={e => setLoginInput(e.target.value)} value={loginInput}/>\n                        <Input mb=\"12px\" py=\"10px\" type=\"password\" placeholder=\"Senha\" onChange={e => setPasswordInput(e.target.value)} value={passwordInput}/>\n                        <Dflex>\n                            <Button w=\"40%\" size=\"18px\" mr=\"12px\" onClick={LoginHandler} disabled={disabledLoginButton}>Login</Button>\n                            <Button w=\"60%\" onClick={()=>setOpen(true)}>Click Aqui para se inscrever</Button>\n                        </Dflex>\n                    </LoginArea>\n                    { \n                        loading? <Lottie \n                            options={{\n                                loop: true,\n                                autoplay: true,\n                                animationData: loadingSvg,\n                                rendererSettings: {\n                                    preserveAspectRatio: \"xMidYMid slice\"\n                                }\n                            }}\n                            height={40}\n                            width={40}\n                        /> : <Text size=\"16px\" pb=\"12px\">{retornoLoading}</Text>\n                    }\n                </ContainerLogin>\n                \n            </Content>\n            { loginSession.username &&\n                <LoginContainer>\n                    <Text wrap=\"wrap\" elip=\"inherit\" size=\"16px\" px=\"4px\" color=\"#aaaaaa\">Você está logado como:  </Text>\n                    <Text wrap=\"wrap\" elip=\"inherit\" size=\"16px\">{loginSession.username}</Text>\n                </LoginContainer>\n            }\n            \n            <openSubsContext.Provider value={[open, setOpen]}>\n                <ModalSubs/>\n            </openSubsContext.Provider>\n        </div>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}