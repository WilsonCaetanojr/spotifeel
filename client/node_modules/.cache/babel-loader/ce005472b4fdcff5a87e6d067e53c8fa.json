{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\src\\\\components\\\\Home\\\\index.js\";\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { loginContext } from '../../context/loginContext';\nimport { playlistsContext, SelectedPlaylistContext } from '../../context/playlistContext';\nimport { filePlayingContext } from '../../context/filePlaying';\nimport { Content, BottomNav, ControllerMusics, PlayerVideoStyle } from './style';\nimport { Text, Button, Dflex, Input } from '../../stylesGlobaly/globalComponents';\nimport Playlist from './playlist';\nimport Player from './player';\nimport Emotions from './emotions';\nimport useDeviceDetect from '../../hooks/detectDevice';\nimport usePlayer from '../../hooks/usePlayer';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMusic from '../../hooks/useMusic';\nconst useStyles = makeStyles({\n  root: {\n    color: \"#FFFFFF\",\n    '&$selected': {\n      color: \"#1db954\"\n    }\n  },\n  selected: {}\n});\n\nconst Home = () => {\n  var _videoFile$value, _videoFile$value2;\n\n  const style = useStyles();\n  const [loginSession, setLoginSession] = useContext(loginContext);\n  const [playlists, setPlaylists] = useState([]);\n  const [videoFile, setVideoFile] = useState({});\n  const {\n    PlayPause\n  } = usePlayer([videoFile, setVideoFile], [playlists, setPlaylists]);\n  const {\n    isMobile\n  } = useDeviceDetect();\n  const [valueIndexed, setValueIndexed] = useState(0);\n  const tabs = [useRef(null), useRef(null), useRef(null)];\n  const [selectedPlaylist, setSelectedPlaylist] = useState({});\n  const {\n    handlerSetPlaylistRandom\n  } = useMusic([videoFile, setVideoFile], [playlists, setPlaylists], [selectedPlaylist, setSelectedPlaylist]);\n  useEffect(() => {\n    if (!loginSession.login && !loginSession._id && !loginSession.username) {\n      window.location.href = \"/\";\n    }\n  }, [loginSession]);\n\n  handleProgress = state => {\n    console.log('onProgress', state); // We only want to update time slider if we are not currently seeking\n\n    if (!videoFile.seeking) {\n      const newVideoFile = { ...videoFile\n      };\n      newVideoFile.seeking = videoFile.seeking;\n      setVideoFile();\n      setState(state);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(playlistsContext.Provider, {\n    value: [playlists, setPlaylists],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SelectedPlaylistContext.Provider, {\n    value: [selectedPlaylist, setSelectedPlaylist],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(filePlayingContext.Provider, {\n    value: [videoFile, setVideoFile],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    py: \"26px\",\n    size: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"Bem Vindo \", loginSession.username), !isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Playlist, {\n    user: loginSession,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(ControllerMusics, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(PlayerVideoStyle, {\n    playing: videoFile.playing,\n    url: (_videoFile$value = videoFile.value) === null || _videoFile$value === void 0 ? void 0 : _videoFile$value.file,\n    pip: true,\n    onPause: () => {\n      PlayPause(false);\n    },\n    onPlay: () => {\n      PlayPause(true);\n    },\n    onEnded: handlerSetPlaylistRandom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Emotions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Player, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabs[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Playlist, {\n    user: loginSession,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabs[1],\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(PlayerVideoStyle, {\n    playing: videoFile.playing,\n    url: (_videoFile$value2 = videoFile.value) === null || _videoFile$value2 === void 0 ? void 0 : _videoFile$value2.file,\n    pip: true,\n    onPause: () => {\n      PlayPause(false);\n    },\n    onPlay: () => {\n      PlayPause(true);\n    },\n    onEnded: handlerSetPlaylistRandom,\n    onSeek: e => console.log('onSeek', e),\n    onProgress: handleProgress,\n    onDuration: handleDuration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabs[2],\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Emotions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Player, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(BottomNav, {\n    value: valueIndexed,\n    onChange: (event, newValue) => {\n      tabs.map(element => element.current.style.display = \"none\");\n      tabs[newValue].current.style.display = \"block\";\n      setValueIndexed(newValue);\n    },\n    showLabels: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(BottomNavigationAction, {\n    label: \"Recents\",\n    classes: style,\n    icon: /*#__PURE__*/React.createElement(RestoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 99\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(BottomNavigationAction, {\n    label: \"Favorites\",\n    classes: style,\n    icon: /*#__PURE__*/React.createElement(FavoriteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 101\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(BottomNavigationAction, {\n    label: \"Nearby\",\n    classes: style,\n    icon: /*#__PURE__*/React.createElement(LocationOnIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 98\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  })))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/guilh/Desktop/ai-emotions2.0/client/src/components/Home/index.js"],"names":["React","useState","useEffect","useContext","useRef","loginContext","playlistsContext","SelectedPlaylistContext","filePlayingContext","Content","BottomNav","ControllerMusics","PlayerVideoStyle","Text","Button","Dflex","Input","Playlist","Player","Emotions","useDeviceDetect","usePlayer","BottomNavigationAction","RestoreIcon","FavoriteIcon","LocationOnIcon","makeStyles","useMusic","useStyles","root","color","selected","Home","style","loginSession","setLoginSession","playlists","setPlaylists","videoFile","setVideoFile","PlayPause","isMobile","valueIndexed","setValueIndexed","tabs","selectedPlaylist","setSelectedPlaylist","handlerSetPlaylistRandom","login","_id","username","window","location","href","handleProgress","state","console","log","seeking","newVideoFile","setState","playing","value","file","display","e","handleDuration","event","newValue","map","element","current"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { loginContext } from '../../context/loginContext'\nimport { playlistsContext, SelectedPlaylistContext } from '../../context/playlistContext'\nimport { filePlayingContext } from '../../context/filePlaying'\nimport { Content, BottomNav, ControllerMusics, PlayerVideoStyle } from './style'\nimport { Text, Button, Dflex, Input } from '../../stylesGlobaly/globalComponents'\nimport Playlist from './playlist'\nimport Player from './player'\nimport Emotions from './emotions'\nimport useDeviceDetect from '../../hooks/detectDevice'\nimport usePlayer from '../../hooks/usePlayer'\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMusic from '../../hooks/useMusic'\n\nconst useStyles = makeStyles({\n    root: {\n        color: \"#FFFFFF\",\n        '&$selected': {\n            color: \"#1db954\",\n        },\n    },\n    selected: {},\n});\n\nconst Home = ()=>{\n    const style = useStyles()\n    const [loginSession, setLoginSession] = useContext(loginContext)\n    const [playlists, setPlaylists] = useState([])\n    const [videoFile, setVideoFile] = useState({});\n    const { PlayPause } = usePlayer([videoFile, setVideoFile], [playlists, setPlaylists]);\n    const { isMobile } = useDeviceDetect();\n    const [valueIndexed, setValueIndexed] = useState(0);\n    const tabs = [useRef(null), useRef(null), useRef(null)]\n    const [selectedPlaylist, setSelectedPlaylist] = useState({});\n    const { handlerSetPlaylistRandom } = useMusic(\n        [videoFile, setVideoFile],\n        [playlists, setPlaylists],\n        [selectedPlaylist, setSelectedPlaylist]\n    )\n\n    useEffect(()=>{\n        if(!loginSession.login && !loginSession._id && !loginSession.username){\n            window.location.href = \"/\"\n        }\n    }, [loginSession])\n\n    handleProgress = state => {\n        console.log('onProgress', state)\n        // We only want to update time slider if we are not currently seeking\n        if (!videoFile.seeking) {\n            const newVideoFile = {...videoFile} \n            newVideoFile.seeking = videoFile.seeking\n            setVideoFile()\n            setState(state)\n        }\n      }\n\n    return (\n        <Content>\n            <playlistsContext.Provider value={[playlists, setPlaylists]}>\n                <SelectedPlaylistContext.Provider value={[selectedPlaylist, setSelectedPlaylist]}>\n                    <filePlayingContext.Provider value={[videoFile, setVideoFile]}>\n                        <Text py=\"26px\" size=\"20px\">Bem Vindo {loginSession.username}</Text>\n                        {!isMobile ? \n                            <div>\n                                <Playlist user={loginSession}/>       \n                                <ControllerMusics>\n                                    <PlayerVideoStyle \n                                        playing={videoFile.playing} \n                                        url={videoFile.value?.file} \n                                        pip={true} \n                                        onPause={()=> { \n                                            PlayPause(false)\n                                        }}\n                                        onPlay={()=> { \n                                            PlayPause(true)\n                                        }}\n                                        onEnded={handlerSetPlaylistRandom}\n                                    />\n                                    <Emotions/>\n                                </ControllerMusics>\n                                <Player/>\n                            </div>\n                            : \n                            <div>\n                                <div ref={tabs[0]}>\n                                    <Playlist user={loginSession} />  \n                                </div>     \n                                <div ref={tabs[1]} style={{display: \"none\"}}>\n                                    <PlayerVideoStyle \n                                        playing={videoFile.playing} \n                                        url={videoFile.value?.file} \n                                        pip={true} \n                                        onPause={()=> { \n                                            PlayPause(false)\n                                        }}\n                                        onPlay={()=> { \n                                            PlayPause(true)\n                                        }}\n                                        onEnded={handlerSetPlaylistRandom}\n                                        onSeek={e => console.log('onSeek', e)}\n                                        onProgress={handleProgress}\n                                        onDuration={handleDuration}\n                                    />\n                                </div>\n                                <div ref={tabs[2]} style={{display: \"none\"}}>\n                                    <Emotions />\n                                </div>\n                                <Player />\n\n                                <BottomNav\n                                    value={valueIndexed}\n                                    onChange={(event, newValue) => {\n                                        tabs.map((element)=>element.current.style.display = \"none\")\n                                        tabs[newValue].current.style.display = \"block\"\n                                        setValueIndexed(newValue)\n                                    }}\n                                    showLabels\n                                >\n                                    <BottomNavigationAction label=\"Recents\" classes={style} icon={<RestoreIcon />} />\n                                    <BottomNavigationAction label=\"Favorites\" classes={style} icon={<FavoriteIcon />} />\n                                    <BottomNavigationAction label=\"Nearby\" classes={style} icon={<LocationOnIcon />} />\n                                </BottomNav>\n                            </div>\n                        }\n                    </filePlayingContext.Provider>\n                </SelectedPlaylistContext.Provider>\n            </playlistsContext.Provider>\n        </Content>\n    );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}