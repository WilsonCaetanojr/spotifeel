{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\src\\\\components\\\\Home\\\\playlist\\\\Modal.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { openAddContext } from '../../../context/modalAddMusicContext';\nimport DragAndDrop from './DragDropInput';\nimport { playlistsContext } from '../../../context/playlistContext';\nimport { insertIntoPlaylistMusics, getPlaylistByIdUser, getTitleVideo, insertIntoPlaylistMusicOtherSite } from '../../../services/PlaylistService';\nexport default function ModalAdd(props) {\n  const [openModalAdd, setOpenModalAdd] = useContext(openAddContext);\n  const [playlists, setPlaylists] = useContext(playlistsContext);\n\n  const handleDrop = async files => {\n    var formData = new FormData();\n    var arrFiles = [...files];\n    arrFiles.forEach(file => {\n      console.log(file);\n      formData.append('file', file);\n    });\n    await insertIntoPlaylistMusics(props.playlist, formData);\n    const infoPlaylists = await getPlaylistByIdUser(props.user._id);\n    setPlaylists(infoPlaylists);\n    setOpenModalAdd(false);\n  };\n\n  const handleSave = async link => {\n    if (!link) return;\n    const infoMusica = await getTitleVideo(link);\n    await insertIntoPlaylistMusicOtherSite(props.playlist, {\n      url: link,\n      title: infoMusica.items[0].snippet.title\n    });\n    const infoPlaylists = await getPlaylistByIdUser(props.user._id);\n    setPlaylists(infoPlaylists);\n    setOpenModalAdd(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: openModalAdd,\n    onClose: () => setOpenModalAdd(false),\n    PaperProps: {\n      style: {\n        backgroundColor: '#121212',\n        boxShadow: 'none',\n        borderRadius: 20,\n        width: \"90%\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DragAndDrop, {\n    handleDrop: handleDrop,\n    handleSave: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/guilh/Desktop/ai-emotions2.0/client/src/components/Home/playlist/Modal.js"],"names":["React","useState","useEffect","useContext","Dialog","DialogContent","openAddContext","DragAndDrop","playlistsContext","insertIntoPlaylistMusics","getPlaylistByIdUser","getTitleVideo","insertIntoPlaylistMusicOtherSite","ModalAdd","props","openModalAdd","setOpenModalAdd","playlists","setPlaylists","handleDrop","files","formData","FormData","arrFiles","forEach","file","console","log","append","playlist","infoPlaylists","user","_id","handleSave","link","infoMusica","url","title","items","snippet","style","backgroundColor","boxShadow","borderRadius","width"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAASC,cAAT,QAA+B,uCAA/B;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,SAASC,wBAAT,EAAmCC,mBAAnC,EAAwDC,aAAxD,EAAuEC,gCAAvE,QAA+G,mCAA/G;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACpC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCb,UAAU,CAACG,cAAD,CAAlD;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4Bf,UAAU,CAACK,gBAAD,CAA5C;;AAEA,QAAMW,UAAU,GAAG,MAAOC,KAAP,IAAiB;AAChC,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,QAAIC,QAAQ,GAAG,CAAC,GAAGH,KAAJ,CAAf;AACAG,IAAAA,QAAQ,CAACC,OAAT,CAAkBC,IAAD,IAAU;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,MAAAA,QAAQ,CAACO,MAAT,CAAgB,MAAhB,EAAwBH,IAAxB;AACH,KAHD;AAIA,UAAMhB,wBAAwB,CAACK,KAAK,CAACe,QAAP,EAAiBR,QAAjB,CAA9B;AACA,UAAMS,aAAa,GAAG,MAAMpB,mBAAmB,CAACI,KAAK,CAACiB,IAAN,CAAWC,GAAZ,CAA/C;AAEAd,IAAAA,YAAY,CAACY,aAAD,CAAZ;AACAd,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAZD;;AAcA,QAAMiB,UAAU,GAAG,MAAOC,IAAP,IAAe;AAC9B,QAAG,CAACA,IAAJ,EAAU;AACV,UAAMC,UAAU,GAAG,MAAMxB,aAAa,CAACuB,IAAD,CAAtC;AACA,UAAMtB,gCAAgC,CAACE,KAAK,CAACe,QAAP,EAAiB;AACnDO,MAAAA,GAAG,EAAEF,IAD8C;AAEnDG,MAAAA,KAAK,EAAEF,UAAU,CAACG,KAAX,CAAiB,CAAjB,EAAoBC,OAApB,CAA4BF;AAFgB,KAAjB,CAAtC;AAIA,UAAMP,aAAa,GAAG,MAAMpB,mBAAmB,CAACI,KAAK,CAACiB,IAAN,CAAWC,GAAZ,CAA/C;AAEAd,IAAAA,YAAY,CAACY,aAAD,CAAZ;AACAd,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAXD;;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAED,YADV;AAEI,IAAA,OAAO,EAAE,MAAIC,eAAe,CAAC,KAAD,CAFhC;AAGI,IAAA,UAAU,EAAE;AACRwB,MAAAA,KAAK,EAAE;AACHC,QAAAA,eAAe,EAAE,SADd;AAEHC,QAAAA,SAAS,EAAE,MAFR;AAGHC,QAAAA,YAAY,EAAE,EAHX;AAIHC,QAAAA,KAAK,EAAE;AAJJ;AADC,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAYI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,UAAU,EAAEzB,UAAzB;AAAqC,IAAA,UAAU,EAAEc,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZJ,CADJ,CADJ;AAoBH","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { openAddContext } from '../../../context/modalAddMusicContext';\r\nimport DragAndDrop from './DragDropInput'\r\nimport { playlistsContext } from '../../../context/playlistContext'\r\nimport { insertIntoPlaylistMusics, getPlaylistByIdUser, getTitleVideo, insertIntoPlaylistMusicOtherSite } from '../../../services/PlaylistService'\r\n\r\nexport default function ModalAdd(props) {\r\n    const [openModalAdd, setOpenModalAdd] = useContext(openAddContext)\r\n    const [playlists, setPlaylists] = useContext(playlistsContext)\r\n    \r\n    const handleDrop = async (files) => {\r\n        var formData = new FormData()\r\n        var arrFiles = [...files]  \r\n        arrFiles.forEach((file) => {\r\n            console.log(file)\r\n            formData.append('file', file)\r\n        })\r\n        await insertIntoPlaylistMusics(props.playlist, formData)\r\n        const infoPlaylists = await getPlaylistByIdUser(props.user._id)\r\n\r\n        setPlaylists(infoPlaylists)\r\n        setOpenModalAdd(false)\r\n    }\r\n\r\n    const handleSave = async (link) =>{\r\n        if(!link) return\r\n        const infoMusica = await getTitleVideo(link)\r\n        await insertIntoPlaylistMusicOtherSite(props.playlist, {\r\n            url: link,\r\n            title: infoMusica.items[0].snippet.title\r\n        })\r\n        const infoPlaylists = await getPlaylistByIdUser(props.user._id)\r\n        \r\n        setPlaylists(infoPlaylists)\r\n        setOpenModalAdd(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog \r\n                open={openModalAdd} \r\n                onClose={()=>setOpenModalAdd(false)} \r\n                PaperProps={{\r\n                    style: {\r\n                        backgroundColor: '#121212',\r\n                        boxShadow: 'none',\r\n                        borderRadius: 20,\r\n                        width: \"90%\"\r\n                    },\r\n                }} \r\n            >\r\n                <DialogContent>\r\n                    <DragAndDrop handleDrop={handleDrop} handleSave={handleSave}></DragAndDrop>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}