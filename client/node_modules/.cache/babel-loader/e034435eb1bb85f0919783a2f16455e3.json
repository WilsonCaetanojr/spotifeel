{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\guilh\\\\Desktop\\\\ai-emotions2.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext,useMemo}from'react';import{PlayerAudio,TimeLine}from'./style';import{filePlayingContext}from'../../context/filePlaying';import IconButton from'@material-ui/core/IconButton';import PlayArrowIcon from'@material-ui/icons/PlayArrow';import PauseIcon from'@material-ui/icons/Pause';import usePlayer from'../../hooks/usePlayer';import SkipNextIcon from'@material-ui/icons/SkipNext';import SkipPreviousIcon from'@material-ui/icons/SkipPrevious';import{SelectedPlaylistContext}from'../../context/playlistContext';var Player=function Player(props){var _useContext=useContext(filePlayingContext),_useContext2=_slicedToArray(_useContext,2),videoFile=_useContext2[0],setVideoFile=_useContext2[1];var _useContext3=useContext(SelectedPlaylistContext),_useContext4=_slicedToArray(_useContext3,2),selectedPlaylist=_useContext4[0],setSelectedPlaylist=_useContext4[1];var _usePlayer=usePlayer([videoFile,setVideoFile],[selectedPlaylist,setSelectedPlaylist]),PlayPause=_usePlayer.PlayPause,findMusicByNextBack=_usePlayer.findMusicByNextBack;var handleSeekMouseDown=function handleSeekMouseDown(e){var newVideoFile=_objectSpread({},videoFile);newVideoFile.seeking=true;console.log(newVideoFile.seeking);setVideoFile(newVideoFile);};var handleSeekChange=function handleSeekChange(value){var newVideoFile=_objectSpread({},videoFile);newVideoFile.played=parseFloat(value);setVideoFile(newVideoFile);};var handleSeekMouseUp=function handleSeekMouseUp(value){var newVideoFile=_objectSpread({},videoFile);newVideoFile.seeking=false;setVideoFile(newVideoFile);props.player.current.seekTo(parseFloat(value));};return/*#__PURE__*/React.createElement(PlayerAudio,{bottom:props.bottom,height:props.height},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){findMusicByNextBack(videoFile.back,selectedPlaylist.music.length-1);}},/*#__PURE__*/React.createElement(SkipPreviousIcon,{style:{color:\"#FFFFFF\"}})),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){PlayPause(!videoFile.playing);}},!videoFile.playing?/*#__PURE__*/React.createElement(PlayArrowIcon,{style:{color:\"#FFFFFF\"}}):/*#__PURE__*/React.createElement(PauseIcon,{style:{color:\"#FFFFFF\"}})),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){findMusicByNextBack(videoFile.next,0);}},/*#__PURE__*/React.createElement(SkipNextIcon,{style:{color:\"#FFFFFF\"}})),/*#__PURE__*/React.createElement(TimeLine,{type:\"range\",min:0,max:0.999999,step:\"any\",value:videoFile.value?videoFile.played:0.0,onMouseDown:handleSeekMouseDown,onChange:function onChange(e){return handleSeekChange(e.target.value);},onMouseUp:function onMouseUp(e){return handleSeekMouseUp(e.target.value);}}));};export default Player;","map":{"version":3,"sources":["C:/Users/guilh/Desktop/ai-emotions2.0/client/src/components/Home/player.js"],"names":["React","useState","useEffect","useContext","useMemo","PlayerAudio","TimeLine","filePlayingContext","IconButton","PlayArrowIcon","PauseIcon","usePlayer","SkipNextIcon","SkipPreviousIcon","SelectedPlaylistContext","Player","props","videoFile","setVideoFile","selectedPlaylist","setSelectedPlaylist","PlayPause","findMusicByNextBack","handleSeekMouseDown","e","newVideoFile","seeking","console","log","handleSeekChange","value","played","parseFloat","handleSeekMouseUp","player","current","seekTo","bottom","height","back","music","length","color","playing","next","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useMemo } from 'react';\r\nimport { PlayerAudio, TimeLine } from './style'\r\nimport { filePlayingContext } from '../../context/filePlaying'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport usePlayer from '../../hooks/usePlayer'\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\r\nimport { SelectedPlaylistContext } from '../../context/playlistContext'\r\n\r\nconst Player = (props) => {\r\n    const [videoFile, setVideoFile] = useContext(filePlayingContext)\r\n    const [selectedPlaylist, setSelectedPlaylist] = useContext(SelectedPlaylistContext)\r\n    const { \r\n        PlayPause, \r\n        findMusicByNextBack\r\n    } = usePlayer([videoFile, setVideoFile], [selectedPlaylist, setSelectedPlaylist]);\r\n    \r\n    const handleSeekMouseDown = e => {\r\n        const newVideoFile = {...videoFile}\r\n        newVideoFile.seeking = true\r\n        console.log(newVideoFile.seeking)\r\n        setVideoFile(newVideoFile)\r\n    }\r\n\r\n    const handleSeekChange = (value) => {\r\n        const newVideoFile = {...videoFile}\r\n        newVideoFile.played = parseFloat(value)\r\n        setVideoFile(newVideoFile)\r\n    }\r\n\r\n    const handleSeekMouseUp = (value) => {\r\n        const newVideoFile = {...videoFile}\r\n        newVideoFile.seeking = false\r\n\r\n        setVideoFile(newVideoFile)\r\n        props.player.current.seekTo(parseFloat(value))\r\n    }\r\n\r\n    return (\r\n        <PlayerAudio bottom={props.bottom} height={props.height}>\r\n            <IconButton onClick={()=>{\r\n                findMusicByNextBack(videoFile.back, selectedPlaylist.music.length-1)\r\n            }}>\r\n                <SkipPreviousIcon style={{ color: \"#FFFFFF\" }}></SkipPreviousIcon>\r\n            </IconButton>\r\n            <IconButton onClick={()=>{\r\n                PlayPause(!videoFile.playing)\r\n            }}>\r\n                {!videoFile.playing ? <PlayArrowIcon style={{ color: \"#FFFFFF\" }}></PlayArrowIcon> : <PauseIcon style={{ color: \"#FFFFFF\" }}></PauseIcon>}\r\n            </IconButton>\r\n            <IconButton onClick={()=>{\r\n                findMusicByNextBack(videoFile.next, 0)\r\n            }}>\r\n                <SkipNextIcon style={{ color: \"#FFFFFF\" }}></SkipNextIcon>\r\n            </IconButton>\r\n            <TimeLine\r\n                type='range' min={0} max={0.999999} step='any'\r\n                value={videoFile.value ? videoFile.played : 0.0}\r\n                onMouseDown={handleSeekMouseDown}\r\n                onChange={(e)=>handleSeekChange(e.target.value)}\r\n                onMouseUp={(e)=>handleSeekMouseUp(e.target.value)}\r\n            ></TimeLine>\r\n        </PlayerAudio>\r\n    )\r\n}\r\n\r\nexport default Player;"]},"metadata":{},"sourceType":"module"}